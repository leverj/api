
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Leverj API</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-6bd16dc1.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#language-sdk-libraries" class="toc-h2 toc-link" data-title="Language SDK/Libraries">Language SDK/Libraries</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#spot-amp-futures-markets" class="toc-h1 toc-link" data-title="Spot &amp; Futures Markets">Spot &amp; Futures Markets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#scheme" class="toc-h2 toc-link" data-title="Scheme">Scheme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#futures-rest-api" class="toc-h1 toc-link" data-title="Futures REST API">Futures REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#unprotected-rest-api-endpoints" class="toc-h2 toc-link" data-title="Unprotected REST API Endpoints">Unprotected REST API Endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#futures-websocket-api" class="toc-h1 toc-link" data-title="Futures WebSocket API">Futures WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#connect-amp-register" class="toc-h2 toc-link" data-title="Connect &amp; Register">Connect &amp; Register</a>
                  </li>
                  <li>
                    <a href="#open-websocket-topics" class="toc-h2 toc-link" data-title="Open Websocket Topics">Open Websocket Topics</a>
                  </li>
                  <li>
                    <a href="#protected-websocket-endpoints" class="toc-h2 toc-link" data-title="Protected Websocket Endpoints">Protected Websocket Endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#spot-rest-api" class="toc-h1 toc-link" data-title="Spot REST API">Spot REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#unprotected-rest-api-endpoints-2" class="toc-h2 toc-link" data-title="Unprotected REST API Endpoints">Unprotected REST API Endpoints</a>
                  </li>
                  <li>
                    <a href="#protected-rest-api-endpoints" class="toc-h2 toc-link" data-title="Protected REST API endpoints">Protected REST API endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#examples-futures" class="toc-h1 toc-link" data-title="Examples (Futures)">Examples (Futures)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#exchange-basic-info" class="toc-h2 toc-link" data-title="Exchange Basic Info">Exchange Basic Info</a>
                  </li>
                  <li>
                    <a href="#exchange-config-format-subject-to-frequent-change" class="toc-h2 toc-link" data-title="Exchange config (format subject to frequent change)">Exchange config (format subject to frequent change)</a>
                  </li>
                  <li>
                    <a href="#recent-trade-data-for-an-instrument-e-g-leveth" class="toc-h2 toc-link" data-title="Recent trade data for an instrument (e.g. LEVETH)">Recent trade data for an instrument (e.g. LEVETH)</a>
                  </li>
                  <li>
                    <a href="#chart-for-instrument" class="toc-h2 toc-link" data-title="Chart for instrument">Chart for instrument</a>
                  </li>
                  <li>
                    <a href="#order-book-for-the-instrument" class="toc-h2 toc-link" data-title="Order book for the instrument">Order book for the instrument</a>
                  </li>
                  <li>
                    <a href="#get-all-open-orders" class="toc-h2 toc-link" data-title="Get all open orders">Get all open orders</a>
                  </li>
                  <li>
                    <a href="#fetch-all-futures-order-books" class="toc-h2 toc-link" data-title="Fetch all futures order books">Fetch all futures order books</a>
                  </li>
                  <li>
                    <a href="#fetch-all-updates-to-order-book" class="toc-h2 toc-link" data-title="Fetch all updates to order book">Fetch all updates to order book</a>
                  </li>
                  <li>
                    <a href="#fetch-indices" class="toc-h2 toc-link" data-title="Fetch indices">Fetch indices</a>
                  </li>
                  <li>
                    <a href="#connect-via-websocket" class="toc-h2 toc-link" data-title="Connect via websocket">Connect via websocket</a>
                  </li>
                  <li>
                    <a href="#disconnect-from-a-websocket" class="toc-h2 toc-link" data-title="Disconnect from a websocket">Disconnect from a websocket</a>
                  </li>
                  <li>
                    <a href="#register" class="toc-h2 toc-link" data-title="Register">Register</a>
                  </li>
                  <li>
                    <a href="#unregister" class="toc-h2 toc-link" data-title="Unregister">Unregister</a>
                  </li>
                  <li>
                    <a href="#create-order" class="toc-h2 toc-link" data-title="Create Order">Create Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="Cancel Order">Cancel Order</a>
                  </li>
                  <li>
                    <a href="#position" class="toc-h2 toc-link" data-title="Position">Position</a>
                  </li>
                  <li>
                    <a href="#liquidation" class="toc-h2 toc-link" data-title="Liquidation">Liquidation</a>
                  </li>
                  <li>
                    <a href="#auto-deleveraging-adl" class="toc-h2 toc-link" data-title="Auto Deleveraging (ADL)">Auto Deleveraging (ADL)</a>
                  </li>
                  <li>
                    <a href="#order-execution" class="toc-h2 toc-link" data-title="Order Execution">Order Execution</a>
                  </li>
                  <li>
                    <a href="#account-balance" class="toc-h2 toc-link" data-title="Account Balance">Account Balance</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#examples-spot" class="toc-h1 toc-link" data-title="Examples (Spot)">Examples (Spot)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#exchange-basic-info" class="toc-h2 toc-link" data-title="Exchange Basic Info">Exchange Basic Info</a>
                  </li>
                  <li>
                    <a href="#exchange-config-format-subject-to-frequent-change" class="toc-h2 toc-link" data-title="Exchange config (format subject to frequent change)">Exchange config (format subject to frequent change)</a>
                  </li>
                  <li>
                    <a href="#recent-trade-data-for-an-instrument-e-g-leveth" class="toc-h2 toc-link" data-title="Recent trade data for an instrument (e.g. LEVETH)">Recent trade data for an instrument (e.g. LEVETH)</a>
                  </li>
                  <li>
                    <a href="#chart-for-instrument" class="toc-h2 toc-link" data-title="Chart for instrument">Chart for instrument</a>
                  </li>
                  <li>
                    <a href="#order-book-for-the-instrument" class="toc-h2 toc-link" data-title="Order book for the instrument">Order book for the instrument</a>
                  </li>
                  <li>
                    <a href="#get-all-open-orders" class="toc-h2 toc-link" data-title="Get all open orders">Get all open orders</a>
                  </li>
                  <li>
                    <a href="#create-new-order" class="toc-h2 toc-link" data-title="Create New Order">Create New Order</a>
                  </li>
                  <li>
                    <a href="#user-account" class="toc-h2 toc-link" data-title="User account">User account</a>
                  </li>
                  <li>
                    <a href="#user-executions" class="toc-h2 toc-link" data-title="User Executions">User Executions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#gluon" class="toc-h1 toc-link" data-title="Gluon">Gluon</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>Try out the <a href='https://kovan.leverj.io/'>Kovan testnet site</a></li>
            <li>Try out the <a href='https://ropsten.leverj.io/'>Ropsten testnet site</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Leverj REST and Websocket API enable access to all features of the platform. The <a href="https://kovan.leverj.io/">Kovan testnet</a>, the <a href="https://ropsten.leverj.io/">Ropsten testnet</a>, and the <a href="https://live.leverj.io/">live</a> sites are built entirely using this API and should be seen as one of the many possible platform implementations. The API could be leveraged to power a comprehensive set of tools and utilities, including automated trading clients and bots.</p>
<h2 id='language-sdk-libraries'>Language SDK/Libraries</h2>
<aside class="notice">
TODO: update this to include all libraries
</aside>

<p>Currently we support Python and Javascript (with node.js) for programmatic access.</p>
<h3 id='python'>Python</h3>
<p><ul>
  <li><a href="https://github.com/leverj/leverj-ordersigner">leverj-ordersigner</a>
  <li><a href="https://pypi.org/project/leverj-ordersigner/">leverj-ordersigner at pypi</a>
  <li><a href="https://github.com/leverj/ordersigner-daemon">ordersigner-daemon to support python 2.7</a>
  </ul></p>
<h3 id='javascript-node-js'>Javascript (Node.js)</h3>
<p><ul>
  <li><a href="https://www.npmjs.com/package/@leverj/zka">@leverj/zka library</a>
  <li><a href="https://www.npmjs.com/package/@leverj/adapter">@leverj/adapter library</a>
  </ul></p>

<p>Usage of these libraries will be illustrated in the following sections.</p>
<h1 id='spot-amp-futures-markets'>Spot &amp; Futures Markets</h1>
<p>Leverj provides access to two markets, the spot market and the derivatives market. The spot market supports ERC20 pairs. The derivatives market supports futures products. Perpetual swaps on BTC, ETH, and DEFI index are currently offered.</p>

<p>The API is very similar for both spot and futures markets, with minor differences to accomodate for product variations, market structure differences, and differing trading strategy possibilities between the two.</p>

<aside class="notice">
Spot markets in its current form will be <a href="https://blog.leverj.io/announcement-shutting-down-the-spot-markets-on-leverj-c20d14fad546">shutdown</a> by May 2021.
</aside>
<h2 id='scheme'>Scheme</h2>
<p>The URL scheme like most REST apis consists of a BASE_URL and an endpoint.</p>
<div class="highlight"><pre class="highlight plaintext"><code>REST URL = BASE_URL + ENDPOINT
</code></pre></div><h3 id='base-url'>Base URL</h3>
<p>The BASE_URL is of the following format:
<code>&lt;protocol&gt;://&lt;host&gt;/&lt;market&gt;/api/v1</code></p>

<p>For REST calls <code>https</code> is the protocol, host depends on the environment, and market could be <code>spot</code> or <code>futures</code>.</p>

<p>The base url for spot REST API for the live site is <code>https://live.leverj.io/spot/api/v1</code>. For Kovan testnet use <code>https://kovan.leverj.io/spot/api/v1</code>.</p>

<p>For futures, the live site base url is <code>https://live.leverj.io/futures/api/v1</code> and for Kovan it is <code>https://kovan.leverj.io/futures/api/v1</code>.</p>

<p>To request an endpoint, append it to the base url and make a request.</p>
<h3 id='getting-all-info'>Getting All Info</h3>
<p>For example to access the <code>/all/info</code> endpoint for the <code>spot</code> market use <code>https://live.leverj.io/spot/api/v1/all/info</code>. For <code>futures</code> use <code>https://live.leverj.io/futures/api/v1/all/info</code>.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://live.leverj.io/spot/api/v1/all/info
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://live.leverj.io/spot/api/v1/all/info'</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">status_code</span>
<span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>  <span class="kd">const</span> <span class="nx">axios</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">axios</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://live.leverj.io/spot/api/v1/all/info</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span> <span class="nx">response</span> <span class="p">});</span>
  <span class="p">});</span>
</code></pre></div><h3 id='url-parameters'>URL parameters</h3>
<p>Url parameters are denoted by prepending a colon:</p>
<div class="highlight"><pre class="highlight plaintext"><code>/instrument/:symbol/chart/:timeframe
</code></pre></div>
<p>The parameters <code>:symbol</code> and <code>:timeframe</code> need to be filled in when making a REST call to server.
To get chart for a specific symbol with id <code>L2ETH</code> for timeframe <code>5</code>, the actual url would be <code>https://live.leverj.io/api/v1/instrument/L2ETH/chart/5</code></p>
<div class="highlight"><pre class="highlight plaintext"><code>https://live.leverj.io/api/v1/instrument/LEVETH/chart/5
</code></pre></div><h3 id='http-headers'>HTTP headers</h3>
<p>HTTP 1.1 requires <code>Host</code> header. In the examples here, we have used testnet host <code>kovan.leverj.io</code>. For production use, you should change it to <code>live.leverj.io</code>. You need <code>Authorization</code> and <code>Nonce</code> headers for protected resources. You may also add other appropriate headers, which are omitted here for brevity.</p>

<p><a name="loginless"></a></p>
<h1 id='authentication'>Authentication</h1>
<p>Leverj uses a zero-knowledge authentication system. Leverj replaces the typical username and password based authentication scheme with a triplet of your account id, an apikey and a secret associated with the apikey. There is absolutely no need for the system to know about your account&#39;s private key. The apikey&#39;s secret is used to sign and confirm your identity but is not transfered over to the server either. The loginless system relies on ECDSA (Elliptic Curve Digital Signature Algorithm). The scheme involves signing message payload using an apikey&#39;s secret and subsequently using the elliptic curve signature elements to derive or recover the apikey. The recovered apikey is matched against the registered apikey. This pair of actions involving signing and recovery establishes trust and identity to facilitate authentication. Every request is authenticated using this mechanism.</p>

<p>You need to register online with the exchange to setup and download an apikey and its corresponding secret. When you register, you will be given an option to download your api key. You can also download the key at a later time by accessing it from your Leverj Gluon wallet. The api key contains your accountId, apikey, and secret. It will download as a json formatted file. An account can have multiple pairs of apikeys and their corresponding secrets.</p>

<p>Zero knowledge Authentication avoids setting session cookies and eliminates the following classes of attacks: session hijacking, some kinds of replay attacks, cookie sniffing, and some XSS and CSRF attacks. Not having the password or session id on the server mitigates some kinds of attacks due to server breach. Zero knowledge systems never send passwords or cookies and are also safer in case of information leak from TLS issues such as the Heartbleed bug.</p>
<h2 id='overview'>Overview</h2>
<p>Leverj authentication requires you to set <code>Authorization</code> and <code>Nonce</code> headers in HTTP for protected endpoints. This requires your account id, apikey and secret, which are in a JSON key file that you saved when you registered with the exchange and setup your apikey.</p>
<h3 id='authorization-and-nonce-headers'>Authorization and Nonce headers</h3>
<p>The syntax for <code>Authorization</code> and <code>Nonce</code> headers is as below.</p>
<div class="highlight"><pre class="highlight plaintext"><code>Authorization: SIGN &lt;account_id&gt;.&lt;apiKey&gt;.&lt;v&gt;.&lt;r&gt;.&lt;s&gt;
Nonce: &lt;unix_time&gt;
</code></pre></div>
<p><strong>v</strong>, <strong>r</strong>, and <strong>s</strong> are ECDSA related elements. <strong>r</strong> and <strong>s</strong> are normal outputs of an ECDSA signature and <strong>v</strong> is the extra byte or header byte that helps in public key recovery.</p>

<p>For example, to get all configuration information:</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/api/v1/all/config</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">test.leverj.io</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">'SIGN 0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F.0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa.27.0x50eef94b262808ea42072dbe4375d0e908efea6e713b37b8ed729a63e56e4c23.0x4cf4c460baf43092b5350692179a833feb9dd855d6421570a2dc7d1f3325a952'</span>
<span class="na">Nonce</span><span class="p">:</span> <span class="s">1550791374642</span>
</code></pre></div>
<p><code>/all/config</code> is an open endpoint and you don&#39;t need an API key to access it but similar header and signature structures are used when getting protected information.</p>

<p>We provide transparent and seamless authentication support for node.js via an easy to use javascript module and suggest you use it instead of rolling out your own.</p>
<h3 id='zka-node-module'>zka node module</h3>
<p>The <a href="https://www.npmjs.com/package/zka">zka node module</a> will do all the handshake and authentication and enables interaction with REST and socket API transparently. This may be used from a browser using browserify.</p>

<p>Remember to initialize and configure your zka instance before making calls to the API endpoints.</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">zka</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">zka</span><span class="dl">"</span><span class="p">)(</span><span class="nx">baseUrl</span><span class="p">,</span> <span class="dl">"</span><span class="s2">/api/v1</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">zka</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">accountId</span><span class="p">,</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span>
</code></pre></div><h3 id='authentication-with-zka'>Authentication with zka</h3><h3 id='nonce'>Nonce</h3>
<p>To prevent replay attacks, all requests should include a nonce. The server expects UNIX time as the nonce. This requires a reasonably accurate clock on your client machine.</p>
<div class="highlight"><pre class="highlight plaintext"><code>Nonce: 1550791374642
</code></pre></div><h3 id='clients-with-inaccurate-clocks'>Clients with inaccurate clocks</h3>
<p>If your client does not have an accurate clock or you are on an unusually slow network connection, you can compute the skew and apply it to all future requests using the <code>Server-Time</code> header in the HTTP responses. The zka node module does skew adjustment automatically. The non-cacheable HTTP methods <code>PUT</code>, <code>POST</code>, <code>DELETE</code> and <code>OPTIONS</code> return a <code>Server-Time</code> header.</p>
<h1 id='futures-rest-api'>Futures REST API</h1><h2 id='unprotected-rest-api-endpoints'>Unprotected REST API Endpoints</h2>
<p>Unprotected endpoints do not require an <code>Authorization</code> header.</p>
<h3 id='general-exchange-data'>General Exchange Data</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#futures-all-info">/all/info</a></td>
<td>Last price, 24Hr volume, etc</td>
</tr>
</tbody></table>
<h3 id='exchange-configuration'>Exchange Configuration</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#futures-all-config">/all/config</a></td>
<td>Get exchange configuration parameters</td>
</tr>
</tbody></table>
<h3 id='market-data'>Market Data</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#futures-instrument-recent-trade">/instrument/:symbol/trade</a></td>
<td>Get recent trade data</td>
</tr>
<tr>
<td>GET</td>
<td><a href="#futures-instrument-chart">/instrument/:symbol/chart/:timeframe</a></td>
<td>Get chart data for instrument</td>
</tr>
<tr>
<td>GET</td>
<td><a href="#futures-instrument-orderbook">/instrument/:symbol/orderbook</a></td>
<td>Get order book for the instrument</td>
</tr>
</tbody></table>
<h1 id='futures-websocket-api'>Futures WebSocket API</h1>
<p>Leverj provides high speed and high throughput websocket based connectivity for all its endpoints. Use socket.io libraries to connect via websocket. </p>

<p>Here are a few language binding to consider:</p>

<ul>
<li>Python: <a href="https://python-socketio.readthedocs.io/en/latest/">python-socketio</a></li>
<li>Javascript <a href="https://socket.io/">socket.io</a></li>
</ul>

<p>When using websocket remember that the conversation occurs by means of emitting events and messages and listening to topics for data. When a client needs to communicate to the server it will emit an event with some data pertaining to the event. To receive data from the server the client listens on topics it is interested in and attaches callback functions to these listeners. When new data is published on such a topic, the client receives it and the client callback function is invoked. Client programs on receiving data could then proceed to use that data.</p>
<h2 id='connect-amp-register'>Connect &amp; Register</h2>
<p>As a first step, make sure to connect. You will need to connect to receive all and any data from websocket, including data from open endpoints. For protected endpoints, register in addition to connecting. You could think of registration as a login or authorization step.</p>

<p>Disconnect and unregister are actions that help cleanup and close the websocket connection.</p>
<h3 id='format-amp-helper-methods-for-protected-endpoints'>Format &amp; Helper Methods for Protected Endpoints</h3>
<p>We will discuss details about each of the open and protected endpoints in the next few sections. In this section we touch upon an important pre-requisite for fetching protected data, i.e. the data that needs authentication.</p>

<p>Start by registering and downloading an APIKey. You will need an APIKey for each environment. You will have separate keys for testnet and the live environments. It&#39;s not the same. The APIKey is a JSON formatted text file that contains information on the following:</p>

<ul>
<li>accountId -- the Ethereum mainnet address</li>
<li>apiKey -- identifier used to authorize and sign requests</li>
<li>secret -- private or secret key for the apiKey</li>
</ul>

<p>Collectively, this triplet are the credentials. Sometimes, it&#39;s also referred to in this documentation and in the example code as originator credentials. These credentials are available only to the user or caller of the API. Leverj has no access to the apiKey secret and cannot help in recovering it if you lose it. However, you are able to generate a new APIKey if you lose one.</p>

<p>When emitting a message to a server to fetch data from a protected endpoint you need to send <code>event</code>  and <code>data</code>. <code>event</code> is a concatenation of the corrsponding <code>method</code> and <code>uri</code>. As an example to create an order you use the event <code>POST /order</code>. The <code>data</code> part of the message that is emitted needs adherering to certain requirements in terms of format and signatures. There is a helper method that provides a utility method to generate <code>event</code> and <code>data</code> by passing in the request payload and the credentials.</p>

<p>Look at the <code>protected_endpoint_request</code> function in <a href="https://github.com/leverj/leverj-pyclient/blob/develop/leverj/websocket/util.py">leverj.websocket.util.py</a> for an example implementation. You are welcome to use this method as is in your code or rewrite it in a a way that suits you.</p>
<h3 id='connect-amp-disconnect'>Connect &amp; Disconnect</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td><a href="#futures-websocket-connect">connect</a></td>
<td>Connect to websocket</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-disconnect">disconnect</a></td>
<td>Disconnect</td>
</tr>
</tbody></table>
<h3 id='register-amp-un-register'>Register &amp; Un-Register</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#futures-websocket-regsiter">register</a></td>
<td>Register/authorize</td>
</tr>
<tr>
<td>GET</td>
<td><a href="#futures-websocket-unregister">unregister</a></td>
<td>Un-register/logout</td>
</tr>
</tbody></table>
<h2 id='open-websocket-topics'>Open Websocket Topics</h2>
<p>Unprotected endpoints do not require <code>Authorization</code>.</p>
<h3 id='market-data-2'>Market Data</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td><a href="#futures-websocket-orderbook">orderbook</a></td>
<td>Order book data, updated every minute</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-difforderbook">difforderbook</a></td>
<td>Get change in order book</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-index">index</a></td>
<td>Fetch indices</td>
</tr>
</tbody></table>
<h2 id='protected-websocket-endpoints'>Protected Websocket Endpoints</h2>
<p>All user specific endpoints require <code>Authorization</code> and <code>Nonce</code> information. These are included in the payload as headers.</p>
<h3 id='order'>Order</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Endpoint/Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td><a href="#futures-websocket-create-order">/order</a></td>
<td>Create orders</td>
</tr>
<tr>
<td>DELETE</td>
<td><a href="#futures-websocket-cancel-order">/order</a></td>
<td>Delete specified orders</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-order-execution">order_execution</a></td>
<td>Order fills</td>
</tr>
</tbody></table>

<p>Listen to these topics to be notified as you add, update, and delete orders. Also, listen to <code>order_error</code>.</p>

<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order_add</td>
<td>Create order</td>
</tr>
<tr>
<td>order_update</td>
<td>Update order</td>
</tr>
<tr>
<td>order_del</td>
<td>Cancel order</td>
</tr>
<tr>
<td>order_error</td>
<td>Order error</td>
</tr>
</tbody></table>
<h3 id='position'>Position</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Endpoint/Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td><a href="#futures-websocket-position">position</a></td>
<td>Position updates</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-liquidation">liquidation</a></td>
<td>Liquidation updates</td>
</tr>
<tr>
<td></td>
<td><a href="#futures-websocket-adl">adl</a></td>
<td>ADL updates</td>
</tr>
</tbody></table>
<h3 id='account'>Account</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Endpoint/Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td><a href="#futures-websocket-account-balance">account_balance</a></td>
<td>Receive data on account balance</td>
</tr>
</tbody></table>
<h1 id='spot-rest-api'>Spot REST API</h1><h2 id='unprotected-rest-api-endpoints-2'>Unprotected REST API Endpoints</h2>
<p>Unprotected endpoints do not require an <code>Authorization</code> header.</p>
<h3 id='general-exchange-data-2'>General Exchange Data</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#spot-all-info">/all/info</a></td>
<td>Last price, 24Hr volume, etc</td>
</tr>
</tbody></table>
<h3 id='exchange-configuration-2'>Exchange Configuration</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#spot-all-config">/all/config</a></td>
<td>Get exchange configuration parameters</td>
</tr>
</tbody></table>
<h3 id='market-data-3'>Market Data</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#spot-instrument-recent-trade">/instrument/:symbol/trade</a></td>
<td>Get recent trade data</td>
</tr>
<tr>
<td>GET</td>
<td><a href="#spot-instrument-chart">/instrument/:symbol/chart/:timeframe</a></td>
<td>Get chart data for instrument</td>
</tr>
<tr>
<td>GET</td>
<td><a href="#spot-instrument-orderbook">/instrument/:symbol/orderbook</a></td>
<td>Get order book for the instrument</td>
</tr>
</tbody></table>
<h2 id='protected-rest-api-endpoints'>Protected REST API endpoints</h2>
<p>All user specific endpoints require <code>Authorization</code> and <code>Nonce</code> headers as described in the <a href="#loginless">Loginless or ZKA</a> section</p>
<h3 id='open-orders'>Open Orders</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#open-order-all">/order</a></td>
<td>Get all open orders</td>
</tr>
<tr>
<td>POST</td>
<td><a href="#open-create-order">/order</a></td>
<td>Create orders</td>
</tr>
<tr>
<td>PUT</td>
<td><a href="#open-update-order">/order</a></td>
<td>Update Orders</td>
</tr>
<tr>
<td>DELETE</td>
<td><a href="#open-cancel-order">/order/:uuids</a></td>
<td>Delete specified orders</td>
</tr>
</tbody></table>
<h3 id='get-account-information-orders-and-trades'>Get account information: Orders and Trades</h3>
<table><thead>
<tr>
<th>Method</th>
<th>Rest Endpoint</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td><a href="#account">/account</a></td>
<td></td>
</tr>
<tr>
<td>GET</td>
<td><a href="#account-execution">/account/execution</a></td>
<td>GET User&#39;s recent executions</td>
</tr>
</tbody></table>

<aside class="notice">
TODO
</aside>
<h1 id='examples-futures'>Examples (Futures)</h1>
<p>Examples are structured as follows:</p>

<table><thead>
<tr>
<th>Section</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Endpoint</td>
<td>The /api endpoint</td>
</tr>
<tr>
<td>Client Request</td>
<td>Request using the zka client</td>
</tr>
<tr>
<td>Server Response</td>
<td>JSON Response payload (abbreviated to partial data sets for readability)</td>
</tr>
</tbody></table>

<p><a name="futures-all-info"></a></p>
<h2 id='exchange-basic-info'>Exchange Basic Info</h2><h3 id='get-all-info'>GET /all/info</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://live.leverj.io/futures/api/v1/all/info
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://live.leverj.io/futures/api/v1/all/info'</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/all/info</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response'>Response</h3>
<p>Returns information on </p>

<ul>
<li>last 24 hours volume, </li>
<li>last price, </li>
<li>bid, </li>
<li>ask,</li>
<li>funding rate, and</li>
<li>index</li>
</ul>

<p>for each of the perpetual swap instruments.</p>

<p>BTCUSD perpetual swap has id 1 and ETHUSD perpetual swap has id 2.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceChange"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceChangePercent"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"lastPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">15072</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bid"</span><span class="p">:</span><span class="w"> </span><span class="mi">15532</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ask"</span><span class="p">:</span><span class="w"> </span><span class="mi">15688</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2098600000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605142800000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605146400000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">15596</span><span class="p">,</span><span class="w">
            </span><span class="nl">"futurePrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">15619</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605143249</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15585</span><span class="p">,</span><span class="w">
            </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index_BTCUSD"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"vol24H"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"eth"</span><span class="p">:</span><span class="w"> </span><span class="mf">596.4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceChange"</span><span class="p">:</span><span class="w"> </span><span class="mf">-2.7</span><span class="p">,</span><span class="w">
            </span><span class="nl">"priceChangePercent"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.5869565217391</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"lastPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">457.3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bid"</span><span class="p">:</span><span class="w"> </span><span class="mf">455.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ask"</span><span class="p">:</span><span class="w"> </span><span class="mf">459.7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605142800000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605146400000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">457.8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"futurePrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">458.4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1605143249</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">457.52</span><span class="p">,</span><span class="w">
            </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index_ETHUSD"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><a name="futures-all-config"></a></p>
<h2 id='exchange-config-format-subject-to-frequent-change'>Exchange config (format subject to frequent change)</h2><h3 id='get-all-config'>GET /all/config</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://live.leverj.io/futures/api/v1/all/config
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://live.leverj.io/futures/api/v1/all/config'</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/all/config</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-2'>Response</h3>
<p>Returns configuration information about </p>

<ul>
<li>fee, </li>
<li>smart contracts, </li>
<li>instruments, and </li>
<li>assets</li>
</ul>
<h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"maxInputs"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxOrdersCreateUpdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"estimatedTokenTransferFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mainnet"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"etherscan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"appId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gluon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75ACe7a086eA0FB1a79e43Cc6331Ad053d8C67cB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legacyTokensExtension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xDA88EfA53c85Afa30564bb651A2E76b99a232082"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0F4CA92660Efad97a9a70CB0fe969c755439772C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"registryLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x385827aC8d1AC7B2960D4aBc303c843D9f87Bb0C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"registryData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0fC25C7931679B838209c484d49Df0Cb9E633C41"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe517af2457E0dD285ed22Ee4440b265f203D1B0d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeLogicV1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88Ac1E78b8a7D2B457Cb030978F71EdeE541bD5b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xaB3AC436D66CBEeDc734ed2c1562c3a213c9bc77"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"derivativesLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xDfBFe895e07e5115773Cb9631CB2148114589caC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"derivativesData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x563052914Fd973a2305763269A106a7B0B6D50Cc"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"minimumDepositConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nl">"geofence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"US"</span><span class="p">,</span><span class="w"> </span><span class="s2">"PR"</span><span class="p">,</span><span class="w"> </span><span class="s2">"AS"</span><span class="p">,</span><span class="w"> </span><span class="s2">"VI"</span><span class="p">,</span><span class="w"> </span><span class="s2">"GU"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UM"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"CU"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SY"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"IR"</span><span class="p">,</span><span class="w"> </span><span class="s2">"KP"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UA:40"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UA:43"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"noSignup"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maintenance"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradingDisabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositGasLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">160000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gasPriceMultiplier"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"legacyTokensExtensionSupport"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"defaultDisplayPair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAIUSDC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"instruments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index_BTCUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index_ETHUSD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"L2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xBbff34E47E559ef680067a6B1c980639EEb64D24"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;IP Address&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;country&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;province&gt;"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><a name="futures-instrument-recent-trade"></a></p>
<h2 id='recent-trade-data-for-an-instrument-e-g-leveth'>Recent trade data for an instrument (e.g. LEVETH)</h2><h3 id='get-instrument-symbol-trade'>GET /instrument/:symbol/trade</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/trade</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-4'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550710792</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550708634</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.000101</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550687614</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682148</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">92</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sell</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682147</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682142</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">94</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sell</span><span class="dl">'</span> <span class="p">}</span> 
<span class="p">]</span>
</code></pre></div>
<p><a name="instrument-chart"></a></p>
<h2 id='chart-for-instrument'>Chart for instrument</h2><h3 id='get-instrument-symbol-chart-timeframe'>GET /instrument/:symbol/chart/:timeframe</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/chart/5</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550794200</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793900</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793600</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793300</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793000</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550792700</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p><a name="instrument-orderbook"></a></p>
<h2 id='order-book-for-the-instrument'>Order book for the instrument</h2><h3 id='get-instrument-symbol-orderbook'>GET /instrument/:symbol/orderbook</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/orderbook</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-6'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span> <span class="nl">bid</span><span class="p">:</span> <span class="mf">0.000093</span><span class="p">,</span>
  <span class="nx">ask</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
  <span class="nx">buy</span><span class="p">:</span>
   <span class="p">[</span> <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000093</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
     <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000092</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}],</span>
  <span class="nx">sell</span><span class="p">:</span>
   <span class="p">[</span> <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
     <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000103</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}]</span> 
<span class="p">}</span>
</code></pre></div>
<p><a name="open-order-all"></a></p>
<h2 id='get-all-open-orders'>Get all open orders</h2><h3 id='get-order'>GET /order</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/order</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-7'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">uuid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">77bb9a50-3639-11e9-aa67-1b934017d41a</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">filled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">averagePrice</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">cancelled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001209</span><span class="p">,</span>
    <span class="na">entryTime</span><span class="p">:</span> <span class="mi">1550795606133888</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795606133888</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1550795605937000</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span>
     <span class="dl">'</span><span class="s1">0x2de825f6315f3a712f0b69c36b690918466889edcebbd86e086c4b5e8715c9fa2bd4e74bf0cb263d2c5464b7eba5777f94246989d4f98707c9f44aa891b4743900</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xAa7127e250E87476FdD253f15e86A4Ea9c4c4BD4</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">clientOrderId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ac60c4f4-bd6b-40a4-ae1d-bbef604d0bb7</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">originator</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">uuid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b7bf15a0-3639-11e9-b2cc-fe32bd3894ee</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="na">filled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">averagePrice</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">cancelled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001213</span><span class="p">,</span>
    <span class="na">entryTime</span><span class="p">:</span> <span class="mi">1550795713530585</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795713530585</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1550795713339000</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span>
     <span class="dl">'</span><span class="s1">0x962f348852da325d8663d25ee922f67b278929d500b68234ee0e294d0b4f7e601a957c8798a7fb6d26fb2bc477d3c30293790d9a64e68a3e87d6ae433432b33d01</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xAa7127e250E87476FdD253f15e86A4Ea9c4c4BD4</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">clientOrderId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a0da5818-b0a3-4e39-b8eb-f5f7f7384bfe</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">originator</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa</span><span class="dl">'</span> <span class="p">}</span> 
<span class="p">]</span>
</code></pre></div>
<p><a name="futures-websocket-orderbook"></a></p>
<h2 id='fetch-all-futures-order-books'>Fetch all futures order books</h2><h3 id='listen-on-the-topic-39-orderbook-39'>Listen on the topic: &#39;orderbook&#39;</h3>
<p>Connect to the socket endpoint and listen on &quot;orderbook&quot;.
A simple code illustration in python and a sample response is provided.</p>

<p>The entire orderbook is returned when listening on this topic. Filter down to the specific instrument as required. <em>Remember that this feed updates every minute</em> and gives you the entire order book. If you want to fetch this and also listen to order books as soon as there is any chance then listen to <code>difforderbook</code> in addition to this topic.</p>

<p>The instruments currently supported are:</p>

<ul>
<li>1 - BTCUSD (DAI)</li>
<li>2 - ETHUSD (DAI)</li>
<li>3 - BTCUSD (USDT)</li>
<li>4 - ETHUSD (USDT)</li>
<li>5 - DEFIUSD (USDT)</li>
</ul>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"orderbook"</span><span class="p">,</span> <span class="n">on_orderbook</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_orderbook</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">f'orderbook data: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-8'>Response</h3><div class="highlight"><pre class="highlight plaintext"><code>{
    '1': {
        'buy': [],
        'sell': []
    },
    '2': {
        'buy': [],
        'sell': []
    },
    '3': {
        'bid': 56904,
        'ask': 56914,
        'buy': [{
            'price': 56904,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56899,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56894,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56889,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56884,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }],
        'sell': [{
            'price': 56914,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56919,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56924,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56929,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }, {
            'price': 56934,
            'numberOfOrders': 1,
            'totalQuantity': 0.01,
            'instrument': '3'
        }]
    },
    '4': {
        'bid': 1718.5,
        'ask': 1720.5,
        'buy': [{
            'price': 1718.5,
            'numberOfOrders': 1,
            'totalQuantity': 1.65,
            'instrument': '4'
        }, {
            'price': 1717.9,
            'numberOfOrders': 1,
            'totalQuantity': 0.57,
            'instrument': '4'
        }, {
            'price': 1717.4,
            'numberOfOrders': 1,
            'totalQuantity': 0.22,
            'instrument': '4'
        }, {
            'price': 1716.9,
            'numberOfOrders': 1,
            'totalQuantity': 0.04,
            'instrument': '4'
        }],
        'sell': [{
            'price': 1720.5,
            'numberOfOrders': 1,
            'totalQuantity': 1.65,
            'instrument': '4'
        }, {
            'price': 1721,
            'numberOfOrders': 1,
            'totalQuantity': 0.57,
            'instrument': '4'
        }, {
            'price': 1721.6,
            'numberOfOrders': 1,
            'totalQuantity': 0.22,
            'instrument': '4'
        }, {
            'price': 1722.1,
            'numberOfOrders': 1,
            'totalQuantity': 0.04,
            'instrument': '4'
        }]
    }
}
</code></pre></div>
<p><a name="futures-websocket-difforderbook"></a></p>
<h2 id='fetch-all-updates-to-order-book'>Fetch all updates to order book</h2><h3 id='listen-on-the-topic-39-difforderbook-39'>Listen on the topic: &#39;difforderbook&#39;</h3>
<p>Connect to the socket endpoint and listen on &quot;difforderbook&quot;.
A simple code illustration in python and a sample response is provided.</p>

<p>Updates to orderbook are emitted as soon as it occurs. You could use the <code>orderbook</code> feed to get snapshots of order books every minute and then use <code>difforderbook</code> to listen to every update in the book between updates from the order book feed. Remember, you will only receive the delta. Filter down to the specific instrument as required.</p>

<p>The instruments currently supported are:</p>

<ul>
<li>1 - BTCUSD (DAI)</li>
<li>2 - ETHUSD (DAI)</li>
<li>3 - BTCUSD (USDT)</li>
<li>4 - ETHUSD (USDT)</li>
<li>5 - DEFIUSD (USDT)</li>
</ul>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"difforderbook"</span><span class="p">,</span> <span class="n">on_difforderbook</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_difforderbook</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">f'difforderbook data: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-9'>Response</h3>
<p>On testnet only the DEFIUSD market maker was quoting so you get <code>difforderbook</code> updates as it adjusts the quotes.</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
    'instrument': '5',
    'buy': {
        '490': {
            'price': 490,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 0,
            'totalQuantity': 0
        },
        '490.5': {
            'price': 490.5,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 0,
            'totalQuantity': 0
        },
        '489.4': {
            'price': 489.4,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 1,
            'totalQuantity': 0.17
        },
        '489.5': {
            'price': 489.5,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 0,
            'totalQuantity': 0
        },
        '489.9': {
            'price': 489.9,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 1,
            'totalQuantity': 0.5
        },
        '490.4': {
            'price': 490.4,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 1,
            'totalQuantity': 1.5
        }
    },
    'sell': {
        '493': {
            'price': 493,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 0,
            'totalQuantity': 0
        },
        '492.4': {
            'price': 492.4,
            'instrument': {
                'id': '5',
                'symbol': 'DEFIUSDT',
                'name': 'DEFI/USD (USDT)',
                'status': 'active',
                'tickSize': 0.1,
                'quoteSignificantDigits': 1,
                'baseSignificantDigits': 2,
                'baseSymbol': 'DEFI',
                'quoteSymbol': 'USDT',
                'maxLeverage': 50,
                'topic': 'index_DEFI',
                'quote': {
                    'name': 'USDT',
                    'address': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44',
                    'symbol': 'USDT',
                    'decimals': 6
                }
            },
            'numberOfOrders': 1,
            'totalQuantity': 1.5
        }
    },
    'bid': 490.4,
    'ask': 492.4
}
</code></pre></div>
<p><a name="futures-websocket-index"></a></p>
<h2 id='fetch-indices'>Fetch indices</h2><h3 id='listen-on-the-topic-39-index-39'>Listen on the topic: &#39;index&#39;</h3>
<p>Connect to the socket endpoint and listen on &quot;index&quot;.
A simple code illustration in python and a sample response is provided.</p>

<p>The value for all indices is returned in real time, as available. Filter down to the specific index as required.</p>

<p>The indices currently supported are:</p>

<ul>
<li>index_BTCUSD</li>
<li>index_ETHUSD</li>
<li>index_DEFI</li>
</ul>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"index"</span><span class="p">,</span> <span class="n">on_index</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_index</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">f'index data: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-10'>Response</h3><div class="highlight"><pre class="highlight plaintext"><code>on_index data: {'date': 1618952192, 'topic': 'index_BTCUSD'}
on_index data: {'date': 1618952192, 'topic': 'index_DEFI'}
on_index data: {'date': 1618952192, 'topic': 'index_ETHUSD'}
on_index data: {'date': 1618952192, 'topic': 'index_LINK'}
on_index data: {'date': 1618952193, 'price': 2309.6, 'topic': 'index_ETHUSD', 'stale': False}
on_index data: {'date': 1618952193, 'price': 56854.1, 'topic': 'index_BTCUSD', 'stale': False}
on_index data: {'date': 1618952194, 'price': 56852.6, 'topic': 'index_BTCUSD', 'stale': False}
on_index data: {'date': 1618952195, 'price': 2309.2, 'topic': 'index_ETHUSD', 'stale': False}
on_index data: {'date': 1618952195, 'price': 56847.6, 'topic': 'index_BTCUSD', 'stale': False}
on_index data: {'date': 1618952196, 'price': 451.1, 'topic': 'index_DEFI', 'stale': False}
</code></pre></div>
<p><a name="futures-websocket-connect"></a></p>
<h2 id='connect-via-websocket'>Connect via websocket</h2><h3 id='connect-to-leverj-socket-io-endpoint'>Connect to Leverj socket.io endpoint</h3>
<p>Connect using one of the socket.io language bindings. 
An example in Python is included.</p>

<p>As a first step instantiate a socket.io client. Register an event listener for the &quot;connect&quot; event. This would allow you to be alerted on a successful connection to the websocket endpoint.</p>

<p>Use the Leverj host and path to connect to the websocket endpoint.</p>

<p>For kovan testnet the host value is <code>https://kovan.leverj.io</code> and path is <code>/futures/socket.io</code>. For livenet the path is the same but the host changes to <code>https://live.leverj.io</code>.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"connect"</span><span class="p">,</span> <span class="n">on_connect</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'connected!)

</span></code></pre></div><h3 id='response-11'>Response</h3>
<p>If connected successfully, you should see the message &quot;connected!&quot;.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
connected!
</code></pre></div>
<p><a name="futures-websocket-disconnect"></a></p>
<h2 id='disconnect-from-a-websocket'>Disconnect from a websocket</h2><h3 id='disconnect-from-a-connected-leverj-socket-io-endpoint'>Disconnect from a connected Leverj socket.io endpoint</h3>
<p>Disconnect using one of the socket.io language bindings. 
An example in Python is included.</p>

<p>Register an event listener for the &quot;disconnect&quot; event. This would allow you to be alerted when you successfully disconnect from an existing websocket connection.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"disconnect"</span><span class="p">,</span> <span class="n">on_disconnect</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">disconnect</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">'disconnected!)

</span></code></pre></div><h3 id='response-12'>Response</h3>
<p>If the socket connection is disconnected successfully, you should see the message &quot;disconnected!&quot;.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
disconnected!
</code></pre></div>
<p><a name="futures-websocket-register"></a></p>
<h2 id='register'>Register</h2><h3 id='register-on-a-connected-leverj-socket-io-endpoint'>Register on a connected Leverj socket.io endpoint</h3>
<p>Registration allows you to authenticate and listen to your own personal events from protected endpoints.</p>

<p>As a first step instantiate a socket.io client. Connect and then register.</p>

<aside class="warning">
Make sure to register at the <a href="https://kovan.leverj.io">Leverj Kovan Testnet</a> and at <a href="https://live.leverj.io">Leverj Live</a>. Download your Gluon API Key, which is accessible from your Gluon wallet. You will need the Gluon API Key to make calls to all protected endpoints.
</aside>

<p>Please look at the <a href="&quot;https://github.com/leverj/leverj-pyclient/blob/develop/websocket_client_example.py&quot;">websocket client example</a> and the utility functions in <a href="&quot;https://github.com/leverj/leverj-pyclient/blob/develop/leverj/websocket/util.py&quot;">leverj.websocket.util.py</a>.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">):</span>
    <span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span><span class="s">"accountId"</span><span class="p">:</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s">'accountId'</span><span class="p">),</span> <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'apiKey'</span><span class="p">)}</span>
    <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"method"</span><span class="p">:</span> <span class="s">"GET"</span><span class="p">,</span>
        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/register"</span><span class="p">,</span>
        <span class="s">"headers"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s">"body"</span><span class="p">:</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request_body</span><span class="p">),</span>
        <span class="s">"params"</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">request</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">register</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">)</span>

<span class="c1"># protected_endpoint_request util method adds required signature headers and formats the request
</span><span class="n">protected_request_payload</span> <span class="o">=</span> <span class="n">protected_endpoint_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">)</span>

</code></pre></div><h3 id='response-13'>Response</h3>
<p>You will not receive an explicit response on successful registration. If the registration fails you will not receive data from protected endpoints.</p>

<p><a name="futures-websocket-unregister"></a></p>
<h2 id='unregister'>Unregister</h2><h3 id='stop-listening-for-events-from-leverj-socket-io-protected-endpoint'>Stop listening for events from Leverj socket.io protected endpoint</h3>
<p>Unregister is analogous to logout.</p>

<p>Once you successfully unregister, you will stop listening to data from events for protected endpoints that need authorization.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="k">def</span> <span class="nf">unregister</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">):</span>
    <span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span><span class="s">"accountId"</span><span class="p">:</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s">'accountId'</span><span class="p">),</span> <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'apiKey'</span><span class="p">)}</span>
    <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"method"</span><span class="p">:</span> <span class="s">"GET"</span><span class="p">,</span>
        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/unregister"</span><span class="p">,</span>
        <span class="s">"headers"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="s">"body"</span><span class="p">:</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request_body</span><span class="p">),</span>
        <span class="s">"params"</span><span class="p">:</span> <span class="p">{}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">request</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">unregister</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">)</span>

<span class="c1"># protected_endpoint_request util method adds required signature headers and formats the request
</span><span class="n">protected_request_payload</span> <span class="o">=</span> <span class="n">protected_endpoint_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">)</span>

</code></pre></div><h3 id='response-14'>Response</h3>
<p>You will not receive an explicit response on unregistration.</p>

<p><a name="futures-websocket-create-order"></a></p>
<h2 id='create-order'>Create Order</h2><h3 id='create-an-order-and-send-it-via-websocket'>Create an order and send it via websocket</h3>
<p>Before you create an order, take a moment to look at the product specification at https://leverj.io/. Leverj Futures offers perpetual swap contracts. These are linear contracts, where margin and settelment is in stablecoins. Both DAI and USDT margined and settled contracts are available for BTCUSD and ETHUSD. The DEFIUSD contract is offered only with USDT as the margin and settlement currency.</p>

<p>Leverj supports a number of advanced order types. Please read <a href="https://blog.leverj.io/leverj-futures-order-types-204d903eb76f">Leverj Futures Order Types</a> for details.</p>

<p>The following attributes are supported for an order:</p>

<table><thead>
<tr>
<th>Attribute/Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>Account address of the trader. Credentials or APIKey has this information</td>
</tr>
<tr>
<td>originator</td>
<td>APIKey. Credentials or APIKey has this information</td>
</tr>
<tr>
<td>instrument</td>
<td>The instrument id</td>
</tr>
<tr>
<td>price</td>
<td>Price at which you want to buy or sell. Adjust price precision basis supported <code>quoteSignificantDigits</code> for the instrument</td>
</tr>
<tr>
<td>quantity</td>
<td>Amount you want to buy or sell. Adjust quantity precision basis supported <code>baseSignificantDigits</code> for the instrument</td>
</tr>
<tr>
<td>marginPerFraction</td>
<td>Perpetual swaps are leveraged contracts so you could put down substantially less margin than the notional value you buy or sell. This is the margin in lowest denomination of base significant digits</td>
</tr>
<tr>
<td>side</td>
<td>Order side. Choices are &quot;buy&quot; or &quot;sell&quot;</td>
</tr>
<tr>
<td>orderType</td>
<td>Multiple order types are supported. LMT, MKT, SMKT, SLMT are supported</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp when order is created. Make sure to have this in milliseconds</td>
</tr>
<tr>
<td>quote</td>
<td>Address of the quote currency</td>
</tr>
<tr>
<td>isPostOnly</td>
<td>Boolean value to flag is it&#39;s a post only order</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>Boolean value to flag is it&#39;s a reduce only order</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>User generated order id that could be used to query the status of an order</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>Trigger price when an order is activated. For example, a stop-limit orders gets activated only when the stop order trigger price is reached</td>
</tr>
<tr>
<td>indexSanity</td>
<td>A sanity check to define what variance from the index should be allowed</td>
</tr>
</tbody></table>

<p>Once you create an order. You need to sign it. A signed order becomes the body of a request that needs to be transformed for a protected websocket request.</p>

<p>Once you have a protected request ready, you emit it from the websocket client to the Leverj endpoint for creating orders. Multiple orders can be created in a single call.</p>

<p>Example code for Python is included.</p>

<p>Start by looking at the <a href="https://github.com/leverj/leverj-pyclient/blob/develop/leverj/client.py#L166">order creation and signing functions</a>. Then look at the method for created <a href="https://github.com/leverj/leverj-pyclient/blob/develop/leverj/websocket/util.py#L14">a protected request</a> order creation payload. A working example is available in <a href="https://github.com/leverj/leverj-pyclient/blob/develop/websocket_client_example.py">websocket_client_example.py</a>.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="k">def</span> <span class="nf">get_margin_per_fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orderInstrument</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">leverage</span><span class="p">):</span>
    <span class="n">estimated_entry_price</span> <span class="o">=</span> <span class="n">price</span>
    <span class="n">max_leverage</span> <span class="o">=</span> <span class="n">orderInstrument</span><span class="p">[</span><span class="s">'maxLeverage'</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">leverage</span> <span class="o">&gt;</span> <span class="n">max_leverage</span><span class="p">:</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s">f'You have specified a leverage of </span><span class="si">{</span><span class="n">leverage</span><span class="si">}</span><span class="s"> but the max leverage allowed on this instrument is </span><span class="si">{</span><span class="n">max_leverage</span><span class="si">}</span><span class="s">.'</span><span class="p">)</span>
    <span class="n">base_significant_digits</span> <span class="o">=</span> <span class="n">orderInstrument</span><span class="p">[</span><span class="s">'baseSignificantDigits'</span><span class="p">]</span>
    <span class="n">decimals</span> <span class="o">=</span> <span class="n">orderInstrument</span><span class="p">[</span><span class="s">'quote'</span><span class="p">][</span><span class="s">'decimals'</span><span class="p">]</span>
    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">(</span>
        <span class="nb">pow</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">decimals</span> <span class="o">-</span> <span class="n">base_significant_digits</span><span class="p">)))</span>
    <span class="n">intermediate_value</span> <span class="o">=</span> <span class="n">Decimal</span><span class="p">((</span><span class="n">Decimal</span><span class="p">(</span>
        <span class="n">estimated_entry_price</span><span class="p">)</span> <span class="o">*</span> <span class="n">multiplier</span><span class="p">)</span> <span class="o">/</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">leverage</span><span class="p">)).</span><span class="n">to_integral_exact</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="n">intermediate_value</span><span class="p">)</span> <span class="o">*</span> <span class="n">Decimal</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">Decimal</span><span class="p">(</span><span class="n">base_significant_digits</span><span class="p">))))</span>

<span class="k">def</span> <span class="nf">create_futures_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">triggerPrice</span><span class="p">,</span> <span class="n">quantity</span><span class="p">,</span> <span class="n">orderInstrument</span><span class="p">,</span> <span class="n">orderType</span><span class="p">,</span> <span class="n">leverage</span><span class="p">,</span> <span class="n">orderAccountId</span><span class="p">,</span> <span class="n">originatorApiKey</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">reduceOnly</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="n">price_precision</span> <span class="o">=</span> <span class="n">orderInstrument</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'quoteSignificantDigits'</span><span class="p">)</span>
    <span class="n">quantity_precision</span> <span class="o">=</span> <span class="n">orderInstrument</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'baseSignificantDigits'</span><span class="p">)</span>
    <span class="c1"># default leverage is set to 1.0 which means you aren't using any leverage. If you want 5K DAI position to control 10K DAI worth of BTC, use leverage of 2
</span>    <span class="n">order</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'accountId'</span><span class="p">:</span> <span class="n">orderAccountId</span><span class="p">,</span>
        <span class="s">'originator'</span><span class="p">:</span> <span class="n">originatorApiKey</span><span class="p">,</span>
        <span class="s">'instrument'</span><span class="p">:</span> <span class="n">orderInstrument</span><span class="p">[</span><span class="s">'id'</span><span class="p">],</span>
        <span class="s">'price'</span><span class="p">:</span> <span class="n">round_with_precision</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">price_precision</span><span class="p">),</span>
        <span class="s">'quantity'</span><span class="p">:</span> <span class="n">round_with_precision</span><span class="p">(</span><span class="n">quantity</span><span class="p">,</span> <span class="n">quantity_precision</span><span class="p">),</span>
        <span class="s">'marginPerFraction'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">get_margin_per_fraction</span><span class="p">(</span><span class="n">orderInstrument</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">leverage</span><span class="p">)),</span>
        <span class="s">'side'</span><span class="p">:</span> <span class="n">side</span><span class="p">,</span>
        <span class="s">'orderType'</span><span class="p">:</span> <span class="n">orderType</span><span class="p">,</span>
        <span class="s">'timestamp'</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span><span class="o">*</span><span class="mi">1000000</span><span class="p">),</span>
        <span class="s">'quote'</span><span class="p">:</span> <span class="n">orderInstrument</span><span class="p">[</span><span class="s">'quote'</span><span class="p">][</span><span class="s">'address'</span><span class="p">],</span>
        <span class="s">'isPostOnly'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s">'reduceOnly'</span><span class="p">:</span> <span class="n">reduceOnly</span><span class="p">,</span>
        <span class="s">'clientOrderId'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">'triggerPrice'</span><span class="p">:</span> <span class="n">round_with_precision</span><span class="p">(</span><span class="n">triggerPrice</span><span class="p">,</span> <span class="n">price_precision</span><span class="p">),</span>
        <span class="s">'indexSanity'</span><span class="p">:</span> <span class="n">MAX_INDEX_VARIANCE</span>
    <span class="p">}</span>
    <span class="n">order</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">futures</span><span class="p">.</span><span class="n">sign_order</span><span class="p">(</span>
        <span class="n">order</span><span class="p">,</span> <span class="n">orderInstrument</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">order</span>

<span class="k">def</span> <span class="nf">create_order</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">):</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'./resources/config/kovan.leverj.io/c21b18-64bdd3.json'</span><span class="p">)</span>
    <span class="n">client</span><span class="p">.</span><span class="n">set_api_url</span><span class="p">(</span><span class="s">'https://kovan.leverj.io/futures/api/v1'</span><span class="p">)</span>
    <span class="n">all_config</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_all_config</span><span class="p">()</span>
    <span class="n">logging</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">f'all info: </span><span class="si">{</span><span class="n">all_config</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">instruments</span> <span class="o">=</span> <span class="n">all_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'instruments'</span><span class="p">)</span>
    <span class="n">BTCDAI_instrument</span> <span class="o">=</span> <span class="n">instruments</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'1'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'BTCDAI_instrument: </span><span class="si">{</span><span class="n">BTCDAI_instrument</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">futures_order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">create_futures_order</span><span class="p">(</span><span class="s">'buy'</span><span class="p">,</span> <span class="mi">55394</span><span class="p">,</span> <span class="mi">55394</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="n">BTCDAI_instrument</span><span class="p">,</span> <span class="s">'LMT'</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s">'accountId'</span><span class="p">),</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'apiKey'</span><span class="p">),</span> <span class="n">originator_credentials</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'secret'</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'futures_order: </span><span class="si">{</span><span class="n">futures_order</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
    <span class="n">body</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">([</span><span class="n">futures_order</span><span class="p">],</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s">','</span><span class="p">,</span> <span class="s">':'</span><span class="p">))</span>
    <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"method"</span><span class="p">:</span> <span class="s">"POST"</span><span class="p">,</span>
        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/order"</span><span class="p">,</span>
        <span class="s">"headers"</span><span class="p">:</span> <span class="p">{</span><span class="s">"requestid"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">.</span><span class="n">uuid4</span><span class="p">())},</span>
        <span class="s">"body"</span><span class="p">:</span> <span class="n">body</span><span class="p">,</span>
        <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span><span class="s">"instrument"</span><span class="p">:</span> <span class="n">BTCDAI_instrument</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'id'</span><span class="p">)}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">request</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">create_order</span><span class="p">(</span><span class="n">originator_credentials</span><span class="p">)</span>

<span class="c1"># protected_endpoint_request util method adds required signature headers and formats the request
</span><span class="n">protected_request_payload</span> <span class="o">=</span> <span class="n">protected_endpoint_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">)</span>


</code></pre></div><h3 id='response-15'>Response</h3>
<p>On successful order creation you should receive the newly created order as data on the <code>order_add</code> topic.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
on_order_add: {'result': [{'uuid': '9c8e9a00-a304-11eb-be7d-fc18fda03052', 'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'side': 'buy', 'quantity': 0.02, 'filled': 0, 'averagePrice': 0, 'cancelled': 0, 'price': 53863, 'triggerPrice': 53863, 'marginPerFraction': '26931500000000000000000', 'entryTime': 1619052576672616, 'eventTime': 1619052576672616, 'status': 'open', 'orderType': 'LMT', 'instrument': '1', 'timestamp': 1619052575006805, 'signature': '0x015f2a9a3841cefc6d49e41d82f0f31fee1d6bea8bc77a14aebed36c834040ca70ebd4f94c4f50ca3bd2c93efda5bd36194924be978701d76742f84635bea4221c', 'clientOrderId': 1, 'originator': '0x64bdd35077Ce078aC7B87Cfb381d7F50059BDb16', 'isPostOnly': False, 'quote': '0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa', 'triggered': False, 'reduceOnly': False}]}
</code></pre></div>
<p><a name="futures-websocket-cancel-order"></a></p>
<h2 id='cancel-order'>Cancel Order</h2><h3 id='create-an-order-cancel-request-and-send-it-via-websocket'>Create an order cancel request and send it via websocket</h3>
<p>You will need the <code>uuid</code> for the orders you want to cancel. Once you have the <code>uuids</code> of the orders, create a request body with the following payload:</p>

<p>request_body = [{&quot;op&quot;: &quot;remove&quot;, &quot;value&quot;: uuids}]</p>

<p><code>uuids</code> are in a list. In the example python code there is only 1 element in this list.</p>

<p>Then generate a request dictionary or map as follows:</p>

<p>request = {
        &quot;method&quot;: &quot;PATCH&quot;,
        &quot;uri&quot;: &quot;/order&quot;,
        &quot;headers&quot;: {&quot;requestid&quot;: str(uuid.uuid4())},
        &quot;body&quot;: json.dumps(request_body),
        &quot;params&quot;: {&quot;instrument&quot;: <instrument_symbol>}
    }</p>

<p>Format this request using the protected_endpoint_request function in <a href="https://github.com/leverj/leverj-pyclient/blob/develop/leverj/websocket/util.py#L14">leverj.websocket.util.py</a> and then emit the event and data to send an order cancellation request to the server.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="k">def</span> <span class="nf">cancel_order</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">):</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s">'./resources/config/kovan.leverj.io/c21b18-64bdd3.json'</span><span class="p">)</span>
    <span class="n">client</span><span class="p">.</span><span class="n">set_api_url</span><span class="p">(</span><span class="s">'https://kovan.leverj.io/futures/api/v1'</span><span class="p">)</span>
    <span class="n">all_config</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">get_all_config</span><span class="p">()</span>
    <span class="n">instruments</span> <span class="o">=</span> <span class="n">all_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'instruments'</span><span class="p">)</span>
    <span class="n">BTCDAI_instrument</span> <span class="o">=</span> <span class="n">instruments</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'1'</span><span class="p">)</span>
    <span class="n">request_body</span> <span class="o">=</span> <span class="p">[{</span><span class="s">"op"</span><span class="p">:</span> <span class="s">"remove"</span><span class="p">,</span> <span class="s">"value"</span><span class="p">:</span> <span class="n">uuids</span><span class="p">}]</span>
    <span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">"method"</span><span class="p">:</span> <span class="s">"PATCH"</span><span class="p">,</span>
        <span class="s">"uri"</span><span class="p">:</span> <span class="s">"/order"</span><span class="p">,</span>
        <span class="s">"headers"</span><span class="p">:</span> <span class="p">{</span><span class="s">"requestid"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="p">.</span><span class="n">uuid4</span><span class="p">())},</span>
        <span class="s">"body"</span><span class="p">:</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request_body</span><span class="p">),</span>
        <span class="s">"params"</span><span class="p">:</span> <span class="p">{</span><span class="s">"instrument"</span><span class="p">:</span> <span class="n">BTCDAI_instrument</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'symbol'</span><span class="p">)}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">request</span>



<span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span><span class="s">'9c8e9a00-a304-11eb-be7d-fc18fda03052'</span><span class="p">]</span>


<span class="n">request</span> <span class="o">=</span> <span class="n">cancel_order</span><span class="p">(</span><span class="n">uuids</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">)</span>

<span class="c1"># protected_endpoint_request util method adds required signature headers and formats the request
</span><span class="n">protected_request_payload</span> <span class="o">=</span> <span class="n">protected_endpoint_request</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">originator_credentials</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">protected_request_payload</span><span class="p">)</span>

<span class="c1"># emit from client to the connected websocket
</span><span class="n">websocket_client</span><span class="p">.</span><span class="n">sio</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="n">protected_request_payload</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'event'</span><span class="p">),</span> <span class="n">protected_request_payload</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'data'</span><span class="p">))</span>


</code></pre></div><h3 id='response-16'>Response</h3>
<p>Once the order is cancelled, you will receive a confirmation if you are listening to <code>order_del</code></p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
on_order_del: {'result': '9c8e9a00-a304-11eb-be7d-fc18fda03052'}
</code></pre></div>
<p><a name="futures-websocket-position"></a></p>
<h2 id='position'>Position</h2><h3 id='listen-to-position-creation-and-any-updates-to-an-existing-position'>Listen to position creation and any updates to an existing position</h3>
<p>Make sure you are listening to <code>position</code> after connecting and registering successfully. You will be notified when a new position is created or any of your position parameters is modified. For example, you will get a message when your margin or ranking changes. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"position"</span><span class="p">,</span> <span class="n">on_account_balance</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'on_position: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-17'>Response</h3>
<p>If listening to <code>position</code> you should see information about your current positions when you receive data on this topic.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
on_position: {'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'instrument': '1', 'notional': '538630000000000000000', 'margin': '269315000000000000000', 'size': '0.01', 'liquidationPrice': '27201', 'ranking': 269315000000, 'bankruptcyPrice': '26932', 'eventTime': 1619114054305, 'reservedFees': '215452000000000000'}
</code></pre></div>
<p><a name="futures-websocket-liquidation"></a></p>
<h2 id='liquidation'>Liquidation</h2><h3 id='listen-to-liquidation-events'>Listen to liquidation events</h3>
<p>Make sure you are listening to <code>liquidation</code> after connecting and registering successfully. You will be notified when any of your positions is liquidated. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"liquidation"</span><span class="p">,</span> <span class="n">on_account_balance</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_liquidation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'on_liquidation: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-18'>Response</h3>
<p>If listening to <code>liquidation</code> you should see information when positions are liquidated.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
TODO
</code></pre></div>
<p><a name="futures-websocket-adl"></a></p>
<h2 id='auto-deleveraging-adl'>Auto Deleveraging (ADL)</h2><h3 id='listen-to-adl-events'>Listen to ADL events</h3>
<p>Make sure you are listening to <code>adl</code> after connecting and registering successfully. You will be notified when any of your positions is auto-deleveraged. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"adl"</span><span class="p">,</span> <span class="n">on_account_balance</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_adl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'on_adl: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-19'>Response</h3>
<p>If listening to <code>adl</code> you should see information when positions are auto-deleveraged.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
TODO
</code></pre></div>
<p><a name="futures-websocket-order-execution"></a></p>
<h2 id='order-execution'>Order Execution</h2><h3 id='listen-for-fills-as-orders-are-partially-or-fully-matched'>Listen for fills as orders are partially or fully matched</h3>
<p>Make sure you are listening to <code>order_execution</code> after connecting and registering successfully.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"order_execution"</span><span class="p">,</span> <span class="n">on_account_balance</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_order_execution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'on_order_execution: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-20'>Response</h3>
<p>If listening to <code>order_execution</code> you should see a message or data point every time an existing order is partially or fully matched. You could track each and every fill by listening on this topic.</p>

<p>Sample response shows data for a partial match. Order was for same price but for 0.04 as the quantity. 0.01 of that order was matched in this case. Use <code>orderId</code> to match against open orders and track fills.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
on_order_execution: {'instrument': '1', 'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'executionId': 'c0120ae0-a393-11eb-be58-92c3aa195f67', 'side': 'buy', 'orderType': 'LMT', 'orderId': '97ac02b0-a391-11eb-9afb-ab76d3b77c82', 'price': 53863, 'quantity': 0.01, 'commission': 0.107726, 'pnl': 0, 'eventTime': 1619114054286342}
</code></pre></div>
<p><a name="futures-websocket-account-balance"></a></p>
<h2 id='account-balance'>Account Balance</h2><h3 id='listen-to-account_balance'>Listen to account_balance</h3>
<p>Make sure you are listening to <code>account_balance</code> after connecting and registering successfully. You will receive an update on this topic whenever any of the balances changes. This happenes whenever funds are transferred in or out or deposits and withdrawals are made between the Gluon wallet and the mainnet account. It also happens when you lock funds to open orders. </p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">sio</span> <span class="o">=</span> <span class="n">socketio</span><span class="p">.</span><span class="n">Client</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">engineio_logger</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">"account_balance"</span><span class="p">,</span> <span class="n">on_account_balance</span><span class="p">)</span>
<span class="n">sio</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'https://kovan.leverj.io'</span><span class="p">,</span> <span class="n">socketio_path</span><span class="o">=</span><span class="s">'/futures/socket.io'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_account_balance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">f'on_account_balance: </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>

</code></pre></div><h3 id='response-21'>Response</h3>
<p>If listening to <code>account_balance</code> you should see the entire set of balances when you receive data on this topic.</p>
<div class="highlight"><pre class="highlight plaintext"><code>**** response ****
on_account_balance: {'0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa': {'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'assetAddress': '0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa', 'symbol': 'DAI', 'plasma': '17558903955615588889151', 'available': '17558903955615588889151', 'pending': '0'}, '0x6a4480B1c08A822Fed4b907AD09798ED79312a44': {'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'assetAddress': '0x6a4480B1c08A822Fed4b907AD09798ED79312a44', 'symbol': 'USDT', 'plasma': '16507310354', 'available': '16507310354', 'pending': '0'}, '0xF9990Bf4FFbc423b8a492771658eAade8A1E72D6': {'accountId': '0xc21b183A8050D1988117B86408655ff974d021A0', 'assetAddress': '0xF9990Bf4FFbc423b8a492771658eAade8A1E72D6', 'symbol': 'L2', 'plasma': '5500000000000000000000', 'available': '5500000000000000000000', 'pending': '0'}}
</code></pre></div><h1 id='examples-spot'>Examples (Spot)</h1>
<p>Examples are structured as follows:</p>

<table><thead>
<tr>
<th>Section</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Endpoint</td>
<td>The /api endpoint</td>
</tr>
<tr>
<td>Client Request</td>
<td>Request using the zka client</td>
</tr>
<tr>
<td>Server Response</td>
<td>JSON Response payload (abbreviated to partial data sets for readability)</td>
</tr>
</tbody></table>

<p><a name="spot-all-info"></a></p>
<h2 id='exchange-basic-info'>Exchange Basic Info</h2><h3 id='get-all-info'>GET /all/info</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://live.leverj.io/spot/api/v1/all/info
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://live.leverj.io/spot/api/v1/all/info'</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/all/info</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response'>Response</h3>
<p>Returns information on </p>

<ul>
<li>last 24 hours volume, </li>
<li>last price, </li>
<li>bid, and </li>
<li>ask</li>
</ul>

<p>for each of the spot pairs.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="err">FEEETH:</span><span class="w">
   </span><span class="p">{</span><span class="w"> </span><span class="err">vol</span><span class="mi">24</span><span class="err">H:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">qty:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">eth:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="err">instrument:</span><span class="w"> </span><span class="err">'FEEETH'</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="err">bid:</span><span class="w"> </span><span class="mf">0.000002</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="err">LEVETH:</span><span class="w">
   </span><span class="p">{</span><span class="w"> </span><span class="err">vol</span><span class="mi">24</span><span class="err">H:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">qty:</span><span class="w"> </span><span class="mf">1.2</span><span class="p">,</span><span class="w"> </span><span class="err">eth:</span><span class="w"> </span><span class="mf">0.0001214</span><span class="p">,</span><span class="w"> </span><span class="err">instrument:</span><span class="w"> </span><span class="err">'LEVETH'</span><span class="w"> </span><span class="p">},</span><span class="w">
     </span><span class="err">lastPrice:</span><span class="w"> </span><span class="mf">0.000102</span><span class="p">,</span><span class="w">
     </span><span class="err">bid:</span><span class="w"> </span><span class="mf">0.000093</span><span class="p">,</span><span class="w">
     </span><span class="err">ask:</span><span class="w"> </span><span class="mf">0.000102</span><span class="w"> </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><a name="spot-all-config"></a></p>
<h2 id='exchange-config-format-subject-to-frequent-change'>Exchange config (format subject to frequent change)</h2><h3 id='get-all-config'>GET /all/config</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://live.leverj.io/spot/api/v1/all/config
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://live.leverj.io/spot/api/v1/all/config'</span><span class="p">)</span>
<span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/all/config</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-2'>Response</h3>
<p>Returns configuration information about </p>

<ul>
<li>fee, </li>
<li>smart contracts, </li>
<li>instruments, and </li>
<li>assets</li>
</ul>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"maxInputs"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxOrdersCreateUpdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"factor"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"weiPerNanoFEE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DAIUSDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"estimatedTokenTransferFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mainnet"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"etherscan"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"appId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"gluon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x75ACe7a086eA0FB1a79e43Cc6331Ad053d8C67cB"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"legacyTokensExtension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xDA88EfA53c85Afa30564bb651A2E76b99a232082"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0F4CA92660Efad97a9a70CB0fe969c755439772C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"registryLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x385827aC8d1AC7B2960D4aBc303c843D9f87Bb0C"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"registryData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0fC25C7931679B838209c484d49Df0Cb9E633C41"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe517af2457E0dD285ed22Ee4440b265f203D1B0d"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeLogicV1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x88Ac1E78b8a7D2B457Cb030978F71EdeE541bD5b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stakeData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xaB3AC436D66CBEeDc734ed2c1562c3a213c9bc77"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotLogic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x463cd03Db739B8A8c67adC8732f708A649478681"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"spotData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0d283D685F0A741C463846176e4c8EFF90D3F9EC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"geofence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"US"</span><span class="p">,</span><span class="w"> </span><span class="s2">"PR"</span><span class="p">,</span><span class="w"> </span><span class="s2">"AS"</span><span class="p">,</span><span class="w"> </span><span class="s2">"VI"</span><span class="p">,</span><span class="w"> </span><span class="s2">"GU"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UM"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"CU"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SY"</span><span class="p">,</span><span class="w"> </span><span class="s2">"SD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"IR"</span><span class="p">,</span><span class="w"> </span><span class="s2">"KP"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UA:40"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UA:43"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"noSignup"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maintenance"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradingDisabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"depositGasLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">160000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"gasPriceMultiplier"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LEVETH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"minimumDepositConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"legacyTokensExtensionSupport"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"defaultDisplayPair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAIUSDC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"instruments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"L2ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2/ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksperpoint"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xBbff34E47E559ef680067a6B1c980639EEb64D24"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"convertSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"LINKETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINKETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINKETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK/ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksperpoint"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x514910771AF9Ca656af840dff83E8264EcF986CA"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"convertSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETHDAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHDAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHDAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH/DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksperpoint"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"convertSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAIUSDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAIUSDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAIUSDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI/USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ticksperpoint"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"baseSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quoteSignificantDigits"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"convertSymbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"LINK"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x514910771AF9Ca656af840dff83E8264EcF986CA"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x6B175474E89094C44Da98b954EedeAC495271d0F"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"L2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xBbff34E47E559ef680067a6B1c980639EEb64D24"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"L2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;IP Address&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;country&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;province&gt;"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><a name="spot-instrument-recent-trade"></a></p>
<h2 id='recent-trade-data-for-an-instrument-e-g-leveth'>Recent trade data for an instrument (e.g. LEVETH)</h2><h3 id='get-instrument-symbol-trade'>GET /instrument/:symbol/trade</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/trade</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550710792</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550708634</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.000101</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550687614</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682148</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">92</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sell</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682147</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">date</span><span class="p">:</span> <span class="mi">1550682142</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
    <span class="na">volume</span><span class="p">:</span> <span class="mi">94</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">sell</span><span class="dl">'</span> <span class="p">}</span> 
<span class="p">]</span>
</code></pre></div>
<p><a name="instrument-chart"></a></p>
<h2 id='chart-for-instrument'>Chart for instrument</h2><h3 id='get-instrument-symbol-chart-timeframe'>GET /instrument/:symbol/chart/:timeframe</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/chart/5</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-4'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550794200</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793900</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793600</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793300</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550793000</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">v</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">s</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">t</span><span class="p">:</span> <span class="mi">1550792700</span><span class="p">,</span>
    <span class="na">o</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">h</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">l</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">c</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
    <span class="na">i</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre></div>
<p><a name="instrument-orderbook"></a></p>
<h2 id='order-book-for-the-instrument'>Order book for the instrument</h2><h3 id='get-instrument-symbol-orderbook'>GET /instrument/:symbol/orderbook</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/instrument/LEVETH/orderbook</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span> <span class="nl">bid</span><span class="p">:</span> <span class="mf">0.000093</span><span class="p">,</span>
  <span class="nx">ask</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
  <span class="nx">buy</span><span class="p">:</span>
   <span class="p">[</span> <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000093</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
     <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000092</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}],</span>
  <span class="nx">sell</span><span class="p">:</span>
   <span class="p">[</span> <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000102</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
     <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="mf">0.000103</span><span class="p">,</span>
       <span class="na">numberOfOrders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="na">totalQuantity</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}]</span> 
<span class="p">}</span>
</code></pre></div>
<p><a name="open-order-all"></a></p>
<h2 id='get-all-open-orders'>Get all open orders</h2><h3 id='get-order'>GET /order</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/order</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-6'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">uuid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">77bb9a50-3639-11e9-aa67-1b934017d41a</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
    <span class="na">filled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">averagePrice</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">cancelled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001209</span><span class="p">,</span>
    <span class="na">entryTime</span><span class="p">:</span> <span class="mi">1550795606133888</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795606133888</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1550795605937000</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span>
     <span class="dl">'</span><span class="s1">0x2de825f6315f3a712f0b69c36b690918466889edcebbd86e086c4b5e8715c9fa2bd4e74bf0cb263d2c5464b7eba5777f94246989d4f98707c9f44aa891b4743900</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xAa7127e250E87476FdD253f15e86A4Ea9c4c4BD4</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">clientOrderId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ac60c4f4-bd6b-40a4-ae1d-bbef604d0bb7</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">originator</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">uuid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">b7bf15a0-3639-11e9-b2cc-fe32bd3894ee</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
    <span class="na">filled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">averagePrice</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">cancelled</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001213</span><span class="p">,</span>
    <span class="na">entryTime</span><span class="p">:</span> <span class="mi">1550795713530585</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795713530585</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">open</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1550795713339000</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span>
     <span class="dl">'</span><span class="s1">0x962f348852da325d8663d25ee922f67b278929d500b68234ee0e294d0b4f7e601a957c8798a7fb6d26fb2bc477d3c30293790d9a64e68a3e87d6ae433432b33d01</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xAa7127e250E87476FdD253f15e86A4Ea9c4c4BD4</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">clientOrderId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">a0da5818-b0a3-4e39-b8eb-f5f7f7384bfe</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">originator</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa</span><span class="dl">'</span> <span class="p">}</span> 
<span class="p">]</span>
</code></pre></div>
<p><a name="open-create-order"></a></p>
<h2 id='create-new-order'>Create New Order</h2><h3 id='post-order'>POST /order</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// install @leverj/adapter </span>
<span class="c1">// npm i @leverj/adapter</span>
<span class="kd">const</span> <span class="nx">adapter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@leverj/adapter/src/OrderAdapter</span><span class="dl">"</span><span class="p">)</span>

<span class="c1">// create new order object</span>


<span class="kd">function</span> <span class="nx">createNewOrder</span><span class="p">(</span><span class="nx">side</span><span class="p">,</span> <span class="nx">price</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">,</span> <span class="nx">orderInstrument</span><span class="p">,</span> <span class="nx">orderAccountId</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">order</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">side</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="nx">price</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="nx">orderInstrument</span><span class="p">.</span><span class="nx">baseSignificantDigits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="nx">quantity</span><span class="p">.</span><span class="nx">toFixed</span><span class="p">(</span><span class="nx">orderInstrument</span><span class="p">.</span><span class="nx">termSignificantDigits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1</span><span class="nx">e3</span><span class="p">,</span>
    <span class="na">accountId</span><span class="p">:</span> <span class="nx">orderAccountId</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">orderInstrument</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="nx">orderInstrument</span><span class="p">.</span><span class="nx">symbol</span>
  <span class="p">}</span>
  <span class="nx">order</span><span class="p">.</span><span class="nx">signature</span> <span class="o">=</span> <span class="nx">adapter</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">order</span><span class="p">,</span> <span class="nx">orderInstrument</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">order</span>
<span class="p">}</span>


<span class="c1">// get instrument information for LEVETH</span>
<span class="c1">// create LEVETH buy order</span>

<span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/all/config</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">instruments</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">instruments</span>
  <span class="kd">const</span> <span class="nx">LEVETH_instrument</span> <span class="o">=</span> <span class="nx">instruments</span><span class="p">[</span><span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span><span class="p">]</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">LEVETH_instrument</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">newOrder</span> <span class="o">=</span> <span class="nx">createNewOrder</span><span class="p">(</span><span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span> <span class="mf">0.001229</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">LEVETH_instrument</span><span class="p">,</span> <span class="nx">accountId</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/order</span><span class="dl">'</span><span class="p">,</span> <span class="p">{},</span> <span class="p">[</span><span class="nx">newOrder</span><span class="p">]).</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

</code></pre></div>
<p><a name="account"></a></p>
<h2 id='user-account'>User account</h2><h3 id='get-account'>GET /account</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/account</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-7'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span> <span class="nl">orders</span><span class="p">:</span>
   <span class="p">{</span> <span class="na">FEEETH</span><span class="p">:</span> <span class="p">{},</span>
     <span class="na">LEVETH</span><span class="p">:</span>
      <span class="p">{</span> <span class="dl">'</span><span class="s1">77bb9a50-3639-11e9-aa67-1b934017d41a</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="nb">Object</span><span class="p">],</span>
        <span class="dl">'</span><span class="s1">b7bf15a0-3639-11e9-b2cc-fe32bd3894ee</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="nb">Object</span><span class="p">]</span> <span class="p">}</span> <span class="p">},</span>
  <span class="nx">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">apiKeys</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">0x12d80a4b0803Cf7D462EDF36963429B6aCfA3fFa</span><span class="dl">'</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
  <span class="nx">preference</span><span class="p">:</span> <span class="p">{},</span>
  <span class="nx">exited</span><span class="p">:</span> <span class="p">{}</span> 
<span class="p">}</span>
</code></pre></div>
<p><a name="account-execution"></a></p>
<h2 id='user-executions'>User Executions</h2><h3 id='get-account-execution'>GET /account/execution</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">zka</span><span class="p">.</span><span class="nx">rest</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/account/execution</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)})</span>
</code></pre></div><h3 id='response-8'>Response</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">[</span> <span class="p">{</span> <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">executionid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7dd3a952-3639-11e9-bd86-99376ce577bd</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7d30b290-3639-11e9-8dbe-58e2283f8f2a</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001228</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">liquidity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">commission</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">commission</span><span class="p">:</span> <span class="mf">0.000002456</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795616358063</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">executionid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7d9a22c2-3639-11e9-92a4-74585b482779</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7d30b290-3639-11e9-8dbe-58e2283f8f2a</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001227</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">liquidity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">commission</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">commission</span><span class="p">:</span> <span class="mf">0.000002454</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795615980826</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">accountId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0xE239Caeb4A6eCe2567fa5307f6b5D95149a5188F</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">executionid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7d396520-3639-11e9-805a-71319d7431df</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="dl">'</span><span class="s1">buy</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LMT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">orderid</span><span class="p">:</span> <span class="dl">'</span><span class="s1">7d30b290-3639-11e9-8dbe-58e2283f8f2a</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="mf">0.001226</span><span class="p">,</span>
    <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">liquidity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">commission</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">commission</span><span class="p">:</span> <span class="mf">0.000002452</span><span class="p">,</span>
    <span class="na">eventTime</span><span class="p">:</span> <span class="mi">1550795615346724</span><span class="p">,</span>
    <span class="na">instrument</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LEVETH</span><span class="dl">'</span> <span class="p">}</span> 
<span class="p">]</span>
</code></pre></div><h1 id='gluon'>Gluon</h1>
<aside class="notice">
TODO
</aside>
<h1 id='errors'>Errors</h1>
<aside class="notice">Always check error codes of HTTP requests. Do not assume success.</aside>

<p>The Leverj API uses the standard HTTP error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Usually syntax error in your HTTP request URI or headers</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- You are using an unregistered private key or your clock is way off</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- Resource does not support that method. Eg. PUT on a GET only resource</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t JSON</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- Resource no longer supported</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You have exceed the rate limit</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
